<link rel="stylesheet" href="assets/css/admin-home.css">
<script type="text/javascript" src="../assets/js/auth.js"></script>
<script type="text/javascript" src="assets/js/defaults.js"></script>
<script type="text/javascript" src="assets/js/admin-all-venues.js"></script>
<script type="text/javascript" src="bower_components/materialize/dist/js/materialize.min.js"></script>

<div id="main-wrapper" class="row">

	<div id="sidebar-wrapper" class="row">
		<div id="sidebar-overlay">
			<div id="sidebar-brand">
				<i class="material-icons" id="nav-toggle">menu</i>
				<h5 id="site-title">Events</h5>
			</div>
			<div id="profile">
				<img src="../assets/images/pusheen.gif" id="profile-icon">
				<span id="profile-name" class="white-text"></span>
			</div>
			<div id="sidebar-list">
				<a href="/#/admin/home">
					<div class="row nav-item active-nav" id="side-nav-home">
						<div class="col s3 nav-item-icon"><i class="fa fa-home" aria-hidden="true"></i></div>
						<div class="col s5 nav-item-text"><a href="/#/admin/home">Home</a></div>
					</div>
				</a>
				<a href="/#/admin/events">
					<div class="row nav-item active-nav" id="side-nav-all-events">
						<div class="col s3 nav-item-icon"><i class="fa fa-calendar" aria-hidden="true"></i></div>
						<div class="col s5 nav-item-text"><a href="/#/admin/events">Events</a></div>
					</div>
				</a>
				<a href="/#/admin/venues">
					<div class="row nav-item active-nav" id="side-nav-all-venues">
						<div class="col s3 nav-item-icon"><i class="fa fa-map-marker" aria-hidden="true"></i></div>
						<div class="col s5 nav-item-text"><a href="/#/admin/venues">Venues</a></div>
					</div>
				</a>
				<a href="/#/admin/users">
					<div class="row nav-item active-nav" id="side-nav-all-users">
						<div class="col s3 nav-item-icon"><i class="fa fa-user" aria-hidden="true"></i></div>
						<div class="col s5 nav-item-text"><a href="/#/admin/users">Users</a></div>
					</div>
				</a>
				<div class="row nav-item" ng-click="logout()">
					<div class="col s3 nav-item-icon"><i class="fa fa-times-circle" aria-hidden="true"></i></div>
					<div class="col s5 nav-item-text"><a ng-click="logout()">Logout</a></div>
				</div>
			</div>
		</div>
	</div>

	<div id="content-wrapper" class="row">

        <div id="overlay"></div>

        <div id="pending-wrapper">
			<div class="pending-panel col s12" ng-init="getvenues()">
                <h3>All Venues</h3>
                <ul class="collapsible" data-collapsible="expandable">
                    <li ng-repeat="venue in venues">
                        <div class="collapsible-header"><i class="fa fa-map-marker" aria-hidden="true"></i>{{ venue.Name }}</div>
                        <div class="collapsible-body">
                            <div class="profile-content">
                                {{ venue.Details }} <br>
                                {{ venue.Status }} <br>
                                Capacity: {{ venue.Capacity }}<br>
                                <div class="action-panel">
                                    <button class="btn-floating waves-effect waves-light tooltipped red" data-position="top" data-delay="50" data-tooltip="Update"><i class="fa fa-pencil" aria-hidden="true" ng-click="updateVenueModal(venue.VenueId, venue.Name, venue.Capacity, venue.Details, venue.Status, venue.Longitude, venue.Latitude)" onclick="update()"></i></button>
                                    <button class="btn-floating waves-effect waves-light tooltipped grey" data-position="top" data-delay="50" data-tooltip="Delete"><i class="fa fa-trash-o" aria-hidden="true" ng-click="deleteVenue(venue.VenueId)"></i></button>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Modal Structure -->
        <div id="modal1" class="modal modal-fixed-footer">
	        <div class="modal-content">
	            <h4>Update Venue</h4>
	            <div class="row">
		            <div class="input-field col s12 required">
		                <input ng-model="Name" id="venue-name" type="text" class="validate">
		                <label class="labelText" for="venue-name">Venue Name</label>
		            </div>
	            </div>
	            <div class="row">
		            <div class="input-field col s12 required">
		                <input ng-model="Details" id="details" type="text" class="validate">
		                <label class="labelText" for="details">Venue Details</label>
		            </div>
	            </div>
	            <div class="row">
		            <div class="input-field col s6 required">
		                <input ng-model="Capacity" id="venue-capacity" min="0" type="number" class="validate">
		                <label class="labelText" for="venue-capacity">Maximum Capacity</label>
		            </div>
		            <div class="input-field col s6 required">
		                <select id="status" ng-model="Status">
		                    <option value="Available" id="a_option">Available</option>
		                    <option value="Disabled" id="d_option">Disabled</option>
		                    <option value="Reserved" id="r_option">Reserved</option>
		                </select>
		                <label class="labelText" for="status">Venue Status</label>
		            </div>
	            </div>
	            <div class="row">
		            <div class="input-field col s6 required">
		                <input ng-model="Longitude" id="longitude" type="text" class="validate">
		                <label class="labelText" for="longitude">Longitude</label>
		            </div>
		            <div class="input-field col s6 required">
		                <input ng-model="Latitude" id="latitude" type="text" class="validate">
		                <label class="labelText" for="latitude">Latitude</label>
		            </div>
	            </div>
	        </div>
	        <div class="modal-footer">
	            <a href="#/admin/venues" class="modal-action modal-close waves-effect waves-green btn-flat" ng-click="editVenue()">UPDATE</a>
	        </div>
	    </div>

    </div>
</div>
<script type="text/javascript">
    $(document).ready(function(){
        $('.tooltipped').tooltip({delay: 50});
    });
    function update(){
        $('#modal1').openModal();
    };
</script>