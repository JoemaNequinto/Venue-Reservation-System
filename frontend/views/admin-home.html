<link rel="stylesheet" href="assets/css/admin-home.css">
<script type="text/javascript" src="assets/js/auth.js"></script>
<script type="text/javascript" src="assets/js/defaults.js"></script>
<script type="text/javascript" src="assets/js/admin-home.js"></script>
<script type="text/javascript" src="bower_components/materialize/dist/js/materialize.min.js"></script>

<div id="main-wrapper" class="row">

    <div id="sidebar-wrapper" class="row">
        <div id="sidebar-overlay">
            <div id="sidebar-brand">
                <i class="material-icons" id="nav-toggle">menu</i>
                <h5 id="site-title">Events</h5>
            </div>
            <div id="profile">
                <img src="../assets/images/icon-defaultprofile.png" id="profile-icon">
                <span id="profile-name" class="white-text"></span>
            </div>
            <div id="sidebar-list">
                <a href="/#/admin/home">
                    <div class="row nav-item active-nav" id="side-nav-home">
                        <div class="col s3 nav-item-icon"><i class="fa fa-home" aria-hidden="true"></i></div>
                        <div class="col s5 nav-item-text"><a href="/#/admin/home">Home</a></div>
                    </div>
                </a>
                <a href="/#/admin/events">
                    <div class="row nav-item active-nav" id="side-nav-all-events">
                        <div class="col s3 nav-item-icon"><i class="fa fa-calendar" aria-hidden="true"></i></div>
                        <div class="col s5 nav-item-text"><a href="/#/admin/events">Events</a></div>
                    </div>
                </a>
                <a href="/#/admin/venues">
                    <div class="row nav-item active-nav" id="side-nav-all-venues">
                        <div class="col s3 nav-item-icon"><i class="fa fa-map-marker" aria-hidden="true"></i></div>
                        <div class="col s5 nav-item-text"><a href="/#/admin/venues">Venues</a></div>
                    </div>
                </a>
                <a href="/#/admin/users">
                    <div class="row nav-item active-nav" id="side-nav-all-users">
                        <div class="col s3 nav-item-icon"><i class="fa fa-user" aria-hidden="true"></i></div>
                        <div class="col s5 nav-item-text"><a href="/#/admin/users">Users</a></div>
                    </div>
                </a>
                <div class="row nav-item" ng-click="logout()">
                    <div class="col s3 nav-item-icon"><i class="fa fa-times-circle" aria-hidden="true"></i></div>
                    <div class="col s5 nav-item-text"><a ng-click="logout()">Logout</a></div>
                </div>
            </div>
        </div>
    </div>

    <div id="content-wrapper" class="row">

        <div id="overlay"></div>

        <div id="pending-wrapper">
            <div class="pending-panel col s12">
                <div class="pending-panel col s6" ng-init="getpendingEvents()">
                    <h3>Pending Events</h3>
                    <ul class="collapsible" data-collapsible="expandable">
                        <li ng-repeat="event in pendingEvents">
                            <div class="collapsible-header"><i class="fa fa-calendar" aria-hidden="true"></i>{{ event.EventName }}</div>
                            <div class="collapsible-body">
                                <div class="event-content">
                                    {{ event.EventDetails }} <br>
                                    {{ event.EventDate | date : "fullDate"}} <br>
                                    {{ event.EventStartTime }} - {{ event.EventEndTime }}<br>
                                    <div class="action-panel">
                                        <button class="btn-floating waves-effect waves-light tooltipped red" data-position="top" data-delay="50" data-tooltip="Approve"><i class="fa fa-thumbs-up" aria-hidden="true" ng-click="approveEvent(event.EventId)"></i></button>
                                        <button class="btn-floating waves-effect waves-light tooltipped grey" data-position="top" data-delay="50" data-tooltip="Disapprove"><i class="fa fa-thumbs-down" aria-hidden="true" ng-click="disapproveEvent(event.EventId)"></i></button>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="pending-panel col s6" ng-init="getpendingAccounts()">
                    <h3>Pending Accounts</h3>
                    <ul class="collapsible" data-collapsible="expandable">
                        <li ng-repeat="account in pendingAccounts">
                            <div class="collapsible-header"><i class="fa fa-user" aria-hidden="true"></i>{{ account.LastName }}, {{ account.FirstName }} {{ account.MiddleName }}</div>
                            <div class="collapsible-body">
                                <div class="profile-content">
                                    {{ account.EmailAddress }} <br>
                                    {{ account.Username }} <br>
                                    <div class="action-panel">
                                        <button class="btn-floating waves-effect waves-light tooltipped red" data-position="top" data-delay="50" data-tooltip="Approve"><i class="fa fa-thumbs-up" aria-hidden="true" ng-click="approveAccount(account.PersonId)"></i></button>
                                        <button class="btn-floating waves-effect waves-light tooltipped grey" data-position="top" data-delay="50" data-tooltip="Disapprove"><i class="fa fa-thumbs-down" aria-hidden="true" ng-click="disapproveAccount(account.PersonId)"></i></button>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="fixed-action-btn horizontal">
                <a class="btn-floating btn-large">
                    <i class="large material-icons" id="add-fab">add</i>
                </a>
                <ul>
                    <li id="add-venue-trig"><button class="btn-floating tooltipped" data-position="top" data-delay="50" data-tooltip="Add Venue" id="add-venue-fab"><i class="material-icons">place</i></button></li>
                    <li id="add-event-trig"><button class="btn-floating tooltipped" data-position="top" data-delay="50" data-tooltip="Add Event" id="add-venue-fab"><i class="material-icons">event</i></button></li>
                </ul>
            </div>

            <!-- Modal Structure -->
            <div id="add-venue" class="modal-card">
                <div class="modal-content">
                    <h4>Add New Venue</h4>
                    <div class="input-field col s12">
                        <input placeholder="Location Name" id="location-name" type="text" class="validate">
                    </div>
                    <div class="input-field col s12">
                        <input placeholder="Maximum Capacity" id="location-capacity" min="0" type="number" class="validate">
                    </div>
                    <div class="input-field col s12">
                        <select>
                            <option value="1">Available</option>
                            <option value="2">Disabled</option>
                            <option value="3">Reserved</option>
                        </select>
                        <label>Venue Status</label>
                    </div>
                    <div class="input-field col s12">
                        <input placeholder="Longitude" id="longitude" type="text" class="validate">
                    </div>
                    <div class="input-field col s12">
                        <input placeholder="Latitude" id="latitude" type="text" class="validate">
                    </div>
                </div>
                <div class="modal-footer">
                    <a href="#/admin/home" class="modal-action modal-close waves-effect waves-green btn-flat" ng-click="addVenue()">ADD</a>
                </div>
            </div>

            <!-- Modal Structure -->
            <div id="add-event" class="modal-card">
                <div class="modal-content">
                    <h4>Add New Event</h4>
                    <div class="input-field col s12">
                        <input placeholder="Event Name" ng-model="EventName" id="event-name" type="text" class="validate">
                    </div>
                    <div class="input-field col s12">
                        <input placeholder="Event Details" ng-model="EventDetails" id="event-details" type="text" class="validate">
                    </div>
                    <div class="input-field col s12">
                        <label for="date">Event Date</label>
                        <input type="date" ng-model="EventDate" name="date" class="datepicker">
                    </div>
                    <div class="input-field col s12">
                        <!-- <label for="start-time">Start Time</label> -->
                        <input placeholder="Start Time" ng-model="EventStartTime" name="start-time" id="start-time" type="time" class="validate">
                    </div>
                    <div class="input-field col s12">
                        <!-- <label for="end-time">End Time</label> -->
                        <input placeholder="End Time" ng-model="EventEndTime" name="end-time" id="end-time" type="time" class="validate">
                    </div>
                    <div class="modal-footer">
                        <a href="#/admin/home" class="modal-action modal-close waves-effect waves-green btn-flat" ng-click="addEvent()">ADD</a>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function(){
        $('.tooltipped').tooltip({delay: 50});
    });
</script>